import type { NextPage } from "next";
import Head from "next/head";
import styled from "styled-components";

import Sidebar from "../components/Sidebar";
import { isUserLoggedIn } from "../utils/isUserLoggedIn";

const Container = styled.div`
  display: flex;
`;

const SidebarContainer = styled.div`
  ${({ theme }) => theme.homePageTheme.largeScreen`
    flex: 30%;
  `}

  ${({ theme }) => theme.homePageTheme.mediumScreen`
    flex: 35%;
  `}

${({ theme }) => theme.homePageTheme.smallScreen`
    min-width: 300px;
  `}
`;

const ChatContainer = styled.div`
  ${({ theme }) => theme.homePageTheme.largeScreen` flex:70%; `}

  ${({ theme }) => theme.homePageTheme.mediumScreen`
    flex: 65%;
  `}

  ${({ theme }) => theme.homePageTheme.smallScreen`
    min-width: 60%;
  `}
`;

const Home: NextPage = () => {
  return (
    <div>
      <Head>
        <title>Whatsapp Clone</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <Container>
        <SidebarContainer>
          <Sidebar />
        </SidebarContainer>
        <ChatContainer>
          <div>hi</div>
        </ChatContainer>
      </Container>
    </div>
  );
};

export const getServerSideProps = isUserLoggedIn;

export default Home;
